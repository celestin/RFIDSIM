<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>rfidsim: MacProtocol Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>MacProtocol Class Reference</h1><!-- doxytag: class="MacProtocol" --><!-- doxytag: inherits="SimulationEndListener" -->The class for handling medium access control (MAC) on a channel.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="mac__protocol_8hpp-source.html">mac_protocol.hpp</a>&gt;</code>
<p>
<p>Inheritance diagram for MacProtocol:
<p><center><img src="classMacProtocol.png" usemap="#MacProtocol_map" border="0" alt=""></center>
<map name="MacProtocol_map">
<area href="classSimulationEndListener.html" alt="SimulationEndListener" shape="rect" coords="73,0,209,24">
<area href="classSlottedMac.html" alt="SlottedMac" shape="rect" coords="73,112,209,136">
<area href="classRfidReaderMac.html" alt="RfidReaderMac" shape="rect" coords="0,168,136,192">
<area href="classRfidTagMac.html" alt="RfidTagMac" shape="rect" coords="146,168,282,192">
</map>
<a href="classMacProtocol-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0ac9382050c88b43fb031ef3f68be3ad"></a><!-- doxytag: member="MacProtocol::MacProtocolPtr" ref="0ac9382050c88b43fb031ef3f68be3ad" args="" -->
typedef boost::shared_ptr&lt;<br>
 <a class="el" href="classMacProtocol.html">MacProtocol</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#0ac9382050c88b43fb031ef3f68be3ad">MacProtocolPtr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Smart pointer that clients should use. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ed2eaef6e19ef3fddf18da588914e8df"></a><!-- doxytag: member="MacProtocol::SimulationEndListenerPtr" ref="ed2eaef6e19ef3fddf18da588914e8df" args="" -->
typedef boost::shared_ptr&lt;<br>
 <a class="el" href="classSimulationEndListener.html">SimulationEndListener</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#ed2eaef6e19ef3fddf18da588914e8df">SimulationEndListenerPtr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Smart pointer that clients should use. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="63dc2d88399b57f784ebcc1aaad226fb"></a><!-- doxytag: member="MacProtocol::~MacProtocol" ref="63dc2d88399b57f784ebcc1aaad226fb" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#63dc2d88399b57f784ebcc1aaad226fb">~MacProtocol</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classMacProtocol.html#0ac9382050c88b43fb031ef3f68be3ad">MacProtocolPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#826334dae5fc3e12ae1c446fbb11a1f6">thisMacProtocol</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gives <code>this</code> pointer as a <code><a class="el" href="classMacProtocol.html">MacProtocol</a></code> object.  <a href="#826334dae5fc3e12ae1c446fbb11a1f6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classMacProtocol.html#ed2eaef6e19ef3fddf18da588914e8df">SimulationEndListenerPtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#56529b795e24f23950dc53d98ec38087">thisSimulationEndListener</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gives <code>this</code> pointer as a <code>SimulationEndListenerPtr</code> object.  <a href="#56529b795e24f23950dc53d98ec38087"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#bfef22d9c4a04a1e3c50493524848a2f">startSendTimer</a> (<a class="el" href="classCommunicationLayer.html#5076652ba2dc2a5f8c0b912baa2e9127">CommunicationLayer::Directions</a> direction, PacketPtr packet, const <a class="el" href="classSimTime.html">SimTime</a> &amp;delay)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts a timer to send the packet with the specified delay.  <a href="#bfef22d9c4a04a1e3c50493524848a2f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#bafa6ee3a12e00bdfef733488f6c9e7a">recvFromLinkLayer</a> (<a class="el" href="classCommunicationLayer.html#5076652ba2dc2a5f8c0b912baa2e9127">CommunicationLayer::Directions</a> direction, PacketPtr packet, <a class="el" href="utility_8hpp.html#b393a696e0318c8ab53ae2a1592e3770">t_uint</a> sendingLayerIdx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receives a packet from a sending layer.  <a href="#bafa6ee3a12e00bdfef733488f6c9e7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#0511c3a8be71439f45182cedb2ace957">handleRecvdMacPacket</a> (PacketPtr packet, <a class="el" href="utility_8hpp.html#b393a696e0318c8ab53ae2a1592e3770">t_uint</a> sendingLayerIdx)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle a MAC packet that is received.  <a href="#0511c3a8be71439f45182cedb2ace957"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#071f7addca0e24a0eaa13e9093767f42">handleRecvdUpperLayerPacket</a> (PacketPtr packet, <a class="el" href="utility_8hpp.html#b393a696e0318c8ab53ae2a1592e3770">t_uint</a> sendingLayerIdx)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle a packet received from upper layers.  <a href="#071f7addca0e24a0eaa13e9093767f42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#554fdfd2535dc4f38658bbecc8966b57">handleChannelBusy</a> (PacketPtr packet)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is called when the MAC is scheduled to transmit a packet on the channel but the channel is busy.  <a href="#554fdfd2535dc4f38658bbecc8966b57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#69bc1e2b0efec1155b67edc7a1cf700f">handlePacketSent</a> (PacketPtr packet)=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is called when the MAC is scheduled to transmit a packet on the channel and it is sent on the channel.  <a href="#69bc1e2b0efec1155b67edc7a1cf700f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#0f088813f31be741ad076b6b71d38f28">setLinkLayer</a> (LinkLayerPtr linkLayer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the <a class="el" href="classLinkLayer.html">LinkLayer</a> associated with this MAC.  <a href="#0f088813f31be741ad076b6b71d38f28"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">NodePtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#0fdfa4c53b2405fe1742b4ef2270c472">getNode</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the node associated with this MAC layer.  <a href="#0fdfa4c53b2405fe1742b4ef2270c472"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#2b1739bfe7d41a4fdf5044d0380bb349">MacProtocol</a> (NodePtr node)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A constructor.  <a href="#2b1739bfe7d41a4fdf5044d0380bb349"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#ede0b02a69a3887eefb1162098c7cb57">sendToLinkLayer</a> (<a class="el" href="classCommunicationLayer.html#5076652ba2dc2a5f8c0b912baa2e9127">CommunicationLayer::Directions</a> direction, PacketPtr packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send a packet to the default receiving layer.  <a href="#ede0b02a69a3887eefb1162098c7cb57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c528a70fd6f312b41ac97aa3b3d3cdfa"></a><!-- doxytag: member="MacProtocol::blockUpperQueues" ref="c528a70fd6f312b41ac97aa3b3d3cdfa" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#c528a70fd6f312b41ac97aa3b3d3cdfa">blockUpperQueues</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Block all incoming queues from upper layers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7ae3ca05c5b616563bdbe3f6190ffdda"></a><!-- doxytag: member="MacProtocol::unblockUpperQueues" ref="7ae3ca05c5b616563bdbe3f6190ffdda" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#7ae3ca05c5b616563bdbe3f6190ffdda">unblockUpperQueues</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Unblock all incoming queues from upper layers. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#84bdb83f05883119fe52d7c1293ac21e">getQueueIsBlocked</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine whether incoming queues are currently blocked.  <a href="#84bdb83f05883119fe52d7c1293ac21e"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="81eb403a2cd17ec313d7c87f6f023cc1"></a><!-- doxytag: member="MacProtocol::m_sendTimer" ref="81eb403a2cd17ec313d7c87f6f023cc1" args="" -->
TimerPtr&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#81eb403a2cd17ec313d7c87f6f023cc1">m_sendTimer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A timer for when a packet is sent to the link layer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">boost::weak_ptr&lt; <a class="el" href="classLinkLayer.html">LinkLayer</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#dad209cc46b420823905458e4d07698c">m_linkLayer</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A pointer to the link layer associated with this MAC object.  <a href="#dad209cc46b420823905458e4d07698c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="440dff6776f998668373dde3e7dbdaa3"></a><!-- doxytag: member="MacProtocol::SendToLinkLayerEvent" ref="440dff6776f998668373dde3e7dbdaa3" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMacProtocol.html#440dff6776f998668373dde3e7dbdaa3">SendToLinkLayerEvent</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The class for handling medium access control (MAC) on a channel. 
<p>

<p>
Definition at line <a class="el" href="mac__protocol_8hpp-source.html#l00017">17</a> of file <a class="el" href="mac__protocol_8hpp-source.html">mac_protocol.hpp</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="2b1739bfe7d41a4fdf5044d0380bb349"></a><!-- doxytag: member="MacProtocol::MacProtocol" ref="2b1739bfe7d41a4fdf5044d0380bb349" args="(NodePtr node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MacProtocol::MacProtocol           </td>
          <td>(</td>
          <td class="paramtype">NodePtr&nbsp;</td>
          <td class="paramname"> <em>node</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>node</em>&nbsp;</td><td>the node that owns this MAC. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="mac__protocol_8cpp-source.html#l00008">8</a> of file <a class="el" href="mac__protocol_8cpp-source.html">mac_protocol.cpp</a>.
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="0fdfa4c53b2405fe1742b4ef2270c472"></a><!-- doxytag: member="MacProtocol::getNode" ref="0fdfa4c53b2405fe1742b4ef2270c472" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NodePtr MacProtocol::getNode           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a pointer to the node associated with this MAC layer. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the node. </dd></dl>

<p>
Definition at line <a class="el" href="mac__protocol_8hpp-source.html#l00119">119</a> of file <a class="el" href="mac__protocol_8hpp-source.html">mac_protocol.hpp</a>.
<p>
Referenced by <a class="el" href="rfid__tag__mac_8cpp-source.html#l00195">RfidTagMac::addGenericHeader()</a>, <a class="el" href="rfid__reader__mac_8cpp-source.html#l00363">RfidReaderMac::addGenericHeader()</a>, <a class="el" href="rfid__reader__mac_8cpp-source.html#l00373">RfidReaderMac::addSelectHeader()</a>, <a class="el" href="rfid__reader__mac_8cpp-source.html#l00350">RfidReaderMac::createAckPacket()</a>, <a class="el" href="rfid__tag__mac_8cpp-source.html#l00085">RfidTagMac::createReplyPacket()</a>, <a class="el" href="rfid__reader__mac_8cpp-source.html#l00331">RfidReaderMac::createRequestPacket()</a>, <a class="el" href="rfid__tag__mac_8cpp-source.html#l00141">RfidTagMac::handleRecvdMacPacket()</a>, <a class="el" href="rfid__tag__mac_8cpp-source.html#l00096">RfidTagMac::handleRequestPacket()</a>, <a class="el" href="rfid__tag__mac_8cpp-source.html#l00135">RfidTagMac::packetIsForMe()</a>, <a class="el" href="rfid__reader__mac_8cpp-source.html#l00238">RfidReaderMac::packetIsForMe()</a>, <a class="el" href="rfid__reader__mac_8cpp-source.html#l00032">RfidReaderMac::simulationEndHandler()</a>, and <a class="el" href="mac__protocol_8cpp-source.html#l00043">startSendTimer()</a>.
</div>
</div><p>
<a class="anchor" name="84bdb83f05883119fe52d7c1293ac21e"></a><!-- doxytag: member="MacProtocol::getQueueIsBlocked" ref="84bdb83f05883119fe52d7c1293ac21e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MacProtocol::getQueueIsBlocked           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine whether incoming queues are currently blocked. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if the are blocked. </dd></dl>

<p>
Definition at line <a class="el" href="mac__protocol_8cpp-source.html#l00037">37</a> of file <a class="el" href="mac__protocol_8cpp-source.html">mac_protocol.cpp</a>.
<p>
References <a class="el" href="mac__protocol_8hpp-source.html#l00164">m_linkLayer</a>.
<p>
Referenced by <a class="el" href="rfid__reader__mac_8cpp-source.html#l00092">RfidReaderMac::beginSlotEvent()</a>.
</div>
</div><p>
<a class="anchor" name="554fdfd2535dc4f38658bbecc8966b57"></a><!-- doxytag: member="MacProtocol::handleChannelBusy" ref="554fdfd2535dc4f38658bbecc8966b57" args="(PacketPtr packet)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MacProtocol::handleChannelBusy           </td>
          <td>(</td>
          <td class="paramtype">PacketPtr&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is called when the MAC is scheduled to transmit a packet on the channel but the channel is busy. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet whose transmission was being attmpted. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classMacProtocol.html#69bc1e2b0efec1155b67edc7a1cf700f">handlePacketSent()</a> </dd></dl>

<p>
Implemented in <a class="el" href="classRfidReaderMac.html#ee6687bd966a9c13bdddb0e5adfc3d3a">RfidReaderMac</a>, and <a class="el" href="classRfidTagMac.html#3c0b2da919439404120e46dee2e07e7f">RfidTagMac</a>.
<p>
Referenced by <a class="el" href="mac__protocol_8cpp-source.html#l00057">sendToLinkLayer()</a>.
</div>
</div><p>
<a class="anchor" name="69bc1e2b0efec1155b67edc7a1cf700f"></a><!-- doxytag: member="MacProtocol::handlePacketSent" ref="69bc1e2b0efec1155b67edc7a1cf700f" args="(PacketPtr packet)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MacProtocol::handlePacketSent           </td>
          <td>(</td>
          <td class="paramtype">PacketPtr&nbsp;</td>
          <td class="paramname"> <em>packet</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is called when the MAC is scheduled to transmit a packet on the channel and it is sent on the channel. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet whose transmission was being attmpted. </td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="classMacProtocol.html#554fdfd2535dc4f38658bbecc8966b57">handleChannelBusy()</a> </dd></dl>

<p>
Implemented in <a class="el" href="classRfidReaderMac.html#894d31adb55474a7d4ddf2f2a70cb035">RfidReaderMac</a>, and <a class="el" href="classRfidTagMac.html#a463f55305a16f6fdf132cbfc7b6abfb">RfidTagMac</a>.
<p>
Referenced by <a class="el" href="mac__protocol_8cpp-source.html#l00057">sendToLinkLayer()</a>.
</div>
</div><p>
<a class="anchor" name="0511c3a8be71439f45182cedb2ace957"></a><!-- doxytag: member="MacProtocol::handleRecvdMacPacket" ref="0511c3a8be71439f45182cedb2ace957" args="(PacketPtr packet, t_uint sendingLayerIdx)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool MacProtocol::handleRecvdMacPacket           </td>
          <td>(</td>
          <td class="paramtype">PacketPtr&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utility_8hpp.html#b393a696e0318c8ab53ae2a1592e3770">t_uint</a>&nbsp;</td>
          <td class="paramname"> <em>sendingLayerIdx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handle a MAC packet that is received. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>a pointer to the received packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sendingLayerIdx</em>&nbsp;</td><td>the index of the layer that sent the packet. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the packet was able to be handled. </dd></dl>

<p>
Implemented in <a class="el" href="classRfidReaderMac.html#a97095861207185bac75004923f7896c">RfidReaderMac</a>, and <a class="el" href="classRfidTagMac.html#7a5164884df42c2c851c0a0b5667a0fa">RfidTagMac</a>.
<p>
Referenced by <a class="el" href="mac__protocol_8cpp-source.html#l00075">recvFromLinkLayer()</a>.
</div>
</div><p>
<a class="anchor" name="071f7addca0e24a0eaa13e9093767f42"></a><!-- doxytag: member="MacProtocol::handleRecvdUpperLayerPacket" ref="071f7addca0e24a0eaa13e9093767f42" args="(PacketPtr packet, t_uint sendingLayerIdx)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool MacProtocol::handleRecvdUpperLayerPacket           </td>
          <td>(</td>
          <td class="paramtype">PacketPtr&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utility_8hpp.html#b393a696e0318c8ab53ae2a1592e3770">t_uint</a>&nbsp;</td>
          <td class="paramname"> <em>sendingLayerIdx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handle a packet received from upper layers. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>a pointer to the received packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sendingLayerIdx</em>&nbsp;</td><td>the index of the layer that sent the packet. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the packet was able to be handled. </dd></dl>

<p>
Implemented in <a class="el" href="classRfidReaderMac.html#d73bb89c776e85c06cf7e8cc8c92af86">RfidReaderMac</a>, and <a class="el" href="classRfidTagMac.html#8de0877e4ce973c7f81940c3e027a47b">RfidTagMac</a>.
<p>
Referenced by <a class="el" href="mac__protocol_8cpp-source.html#l00075">recvFromLinkLayer()</a>.
</div>
</div><p>
<a class="anchor" name="bafa6ee3a12e00bdfef733488f6c9e7a"></a><!-- doxytag: member="MacProtocol::recvFromLinkLayer" ref="bafa6ee3a12e00bdfef733488f6c9e7a" args="(CommunicationLayer::Directions direction, PacketPtr packet, t_uint sendingLayerIdx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MacProtocol::recvFromLinkLayer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCommunicationLayer.html#5076652ba2dc2a5f8c0b912baa2e9127">CommunicationLayer::Directions</a>&nbsp;</td>
          <td class="paramname"> <em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PacketPtr&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utility_8hpp.html#b393a696e0318c8ab53ae2a1592e3770">t_uint</a>&nbsp;</td>
          <td class="paramname"> <em>sendingLayerIdx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Receives a packet from a sending layer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>direction</em>&nbsp;</td><td>the direction the packet was sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>a pointer to the received packet. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sendingLayerIdx</em>&nbsp;</td><td>the index of the layer that sent the packet. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the specified layer was able to receive the packet. </dd></dl>

<p>
Definition at line <a class="el" href="mac__protocol_8cpp-source.html#l00075">75</a> of file <a class="el" href="mac__protocol_8cpp-source.html">mac_protocol.cpp</a>.
<p>
References <a class="el" href="classCommunicationLayer.html#5076652ba2dc2a5f8c0b912baa2e9127e110d3be994645ed51372e4be52ff311">CommunicationLayer::Directions_Lower</a>, <a class="el" href="communication__layer_8hpp-source.html#l00056">CommunicationLayer::Directions_Upper</a>, <a class="el" href="classMacProtocol.html#0511c3a8be71439f45182cedb2ace957">handleRecvdMacPacket()</a>, and <a class="el" href="classMacProtocol.html#071f7addca0e24a0eaa13e9093767f42">handleRecvdUpperLayerPacket()</a>.
</div>
</div><p>
<a class="anchor" name="ede0b02a69a3887eefb1162098c7cb57"></a><!-- doxytag: member="MacProtocol::sendToLinkLayer" ref="ede0b02a69a3887eefb1162098c7cb57" args="(CommunicationLayer::Directions direction, PacketPtr packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MacProtocol::sendToLinkLayer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCommunicationLayer.html#5076652ba2dc2a5f8c0b912baa2e9127">CommunicationLayer::Directions</a>&nbsp;</td>
          <td class="paramname"> <em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PacketPtr&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send a packet to the default receiving layer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>direction</em>&nbsp;</td><td>the direction the packet was sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>a pointer to the received packet. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the specified layer was able to receive the packet. </dd></dl>

<p>
Definition at line <a class="el" href="mac__protocol_8cpp-source.html#l00057">57</a> of file <a class="el" href="mac__protocol_8cpp-source.html">mac_protocol.cpp</a>.
<p>
References <a class="el" href="classCommunicationLayer.html#5076652ba2dc2a5f8c0b912baa2e9127e110d3be994645ed51372e4be52ff311">CommunicationLayer::Directions_Lower</a>, <a class="el" href="classMacProtocol.html#554fdfd2535dc4f38658bbecc8966b57">handleChannelBusy()</a>, <a class="el" href="classMacProtocol.html#69bc1e2b0efec1155b67edc7a1cf700f">handlePacketSent()</a>, and <a class="el" href="mac__protocol_8hpp-source.html#l00164">m_linkLayer</a>.
<p>
Referenced by <a class="el" href="rfid__tag__mac_8cpp-source.html#l00141">RfidTagMac::handleRecvdMacPacket()</a>, and <a class="el" href="rfid__reader__mac_8cpp-source.html#l00264">RfidReaderMac::handleRecvdMacPacket()</a>.
</div>
</div><p>
<a class="anchor" name="0f088813f31be741ad076b6b71d38f28"></a><!-- doxytag: member="MacProtocol::setLinkLayer" ref="0f088813f31be741ad076b6b71d38f28" args="(LinkLayerPtr linkLayer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MacProtocol::setLinkLayer           </td>
          <td>(</td>
          <td class="paramtype">LinkLayerPtr&nbsp;</td>
          <td class="paramname"> <em>linkLayer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the <a class="el" href="classLinkLayer.html">LinkLayer</a> associated with this MAC. 
<p>
A weak pointer to the layer is maintained to break a cyclic reference. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>linkLayer</em>&nbsp;</td><td>a point to the <a class="el" href="classLinkLayer.html">LinkLayer</a> object. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="mac__protocol_8cpp-source.html#l00019">19</a> of file <a class="el" href="mac__protocol_8cpp-source.html">mac_protocol.cpp</a>.
<p>
References <a class="el" href="mac__protocol_8hpp-source.html#l00164">m_linkLayer</a>.
</div>
</div><p>
<a class="anchor" name="bfef22d9c4a04a1e3c50493524848a2f"></a><!-- doxytag: member="MacProtocol::startSendTimer" ref="bfef22d9c4a04a1e3c50493524848a2f" args="(CommunicationLayer::Directions direction, PacketPtr packet, const SimTime &amp;delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MacProtocol::startSendTimer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCommunicationLayer.html#5076652ba2dc2a5f8c0b912baa2e9127">CommunicationLayer::Directions</a>&nbsp;</td>
          <td class="paramname"> <em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PacketPtr&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSimTime.html">SimTime</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Starts a timer to send the packet with the specified delay. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>direction</em>&nbsp;</td><td>the direction the packet will be sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>a pointer to the packet being sent. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>delay</em>&nbsp;</td><td>the delay with which the packet should be sent. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if the timer is set successfully. </dd></dl>

<p>
Definition at line <a class="el" href="mac__protocol_8cpp-source.html#l00043">43</a> of file <a class="el" href="mac__protocol_8cpp-source.html">mac_protocol.cpp</a>.
<p>
References <a class="el" href="timer_8hpp-source.html#l00135">Timer::create()</a>, <a class="el" href="mac__protocol_8hpp-source.html#l00327">SendToLinkLayerEvent::create()</a>, <a class="el" href="mac__protocol_8hpp-source.html#l00119">getNode()</a>, <a class="el" href="mac__protocol_8hpp-source.html#l00157">m_sendTimer</a>, and <a class="el" href="classMacProtocol.html#826334dae5fc3e12ae1c446fbb11a1f6">thisMacProtocol()</a>.
<p>
Referenced by <a class="el" href="rfid__tag__mac_8cpp-source.html#l00028">RfidTagMac::beginSlotEvent()</a>, and <a class="el" href="rfid__reader__mac_8cpp-source.html#l00092">RfidReaderMac::beginSlotEvent()</a>.
</div>
</div><p>
<a class="anchor" name="826334dae5fc3e12ae1c446fbb11a1f6"></a><!-- doxytag: member="MacProtocol::thisMacProtocol" ref="826334dae5fc3e12ae1c446fbb11a1f6" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classMacProtocol.html#0ac9382050c88b43fb031ef3f68be3ad">MacProtocolPtr</a> MacProtocol::thisMacProtocol           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gives <code>this</code> pointer as a <code><a class="el" href="classMacProtocol.html">MacProtocol</a></code> object. 
<p>
This is used to deal with <code>shared_ptr's</code>, <code>this</code>, and inheritance. <dl compact><dt><b>Returns:</b></dt><dd>a pointer to <code>this</code> object. </dd></dl>

<p>
Implemented in <a class="el" href="classRfidReaderMac.html#764e0cf20bf9329d40bdf1136575f78b">RfidReaderMac</a>, and <a class="el" href="classRfidTagMac.html#9e157b877bb2a4933e7385859450902e">RfidTagMac</a>.
<p>
Referenced by <a class="el" href="mac__protocol_8cpp-source.html#l00043">startSendTimer()</a>.
</div>
</div><p>
<a class="anchor" name="56529b795e24f23950dc53d98ec38087"></a><!-- doxytag: member="MacProtocol::thisSimulationEndListener" ref="56529b795e24f23950dc53d98ec38087" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classMacProtocol.html#ed2eaef6e19ef3fddf18da588914e8df">SimulationEndListenerPtr</a> MacProtocol::thisSimulationEndListener           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gives <code>this</code> pointer as a <code>SimulationEndListenerPtr</code> object. 
<p>
This is used to deal with <code>shared_ptr's</code>, <code>this</code>, and inheritance. <dl compact><dt><b>Returns:</b></dt><dd>a pointer to <code>this</code> object. </dd></dl>

<p>
Implemented in <a class="el" href="classRfidReaderMac.html#da89bb83471e99ea2011e61e8b694fc3">RfidReaderMac</a>, and <a class="el" href="classRfidTagMac.html#392d01ea6bc6c2b3546ffc7cbdd39aa1">RfidTagMac</a>.
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="dad209cc46b420823905458e4d07698c"></a><!-- doxytag: member="MacProtocol::m_linkLayer" ref="dad209cc46b420823905458e4d07698c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::weak_ptr&lt;<a class="el" href="classLinkLayer.html">LinkLayer</a>&gt; <a class="el" href="classMacProtocol.html#dad209cc46b420823905458e4d07698c">MacProtocol::m_linkLayer</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A pointer to the link layer associated with this MAC object. 
<p>
This must be a weak pointer because there is a cyclic reference since MAC points to Link and Link points to MAC. 
<p>
Definition at line <a class="el" href="mac__protocol_8hpp-source.html#l00164">164</a> of file <a class="el" href="mac__protocol_8hpp-source.html">mac_protocol.hpp</a>.
<p>
Referenced by <a class="el" href="mac__protocol_8cpp-source.html#l00025">blockUpperQueues()</a>, <a class="el" href="mac__protocol_8cpp-source.html#l00037">getQueueIsBlocked()</a>, <a class="el" href="mac__protocol_8cpp-source.html#l00057">sendToLinkLayer()</a>, <a class="el" href="mac__protocol_8cpp-source.html#l00019">setLinkLayer()</a>, and <a class="el" href="mac__protocol_8cpp-source.html#l00031">unblockUpperQueues()</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="mac__protocol_8hpp-source.html">mac_protocol.hpp</a><li><a class="el" href="mac__protocol_8cpp-source.html">mac_protocol.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Dec 12 17:04:40 2006 for rfidsim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
